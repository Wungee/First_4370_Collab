/* -------------------------
   VARIABLES
   ------------------------- */
:root {
    --pumpkin: #FF7518;
    --witch-purple: #4B0082;
    --monster-green: #228B22;
    --black: #000000;
    --ghost: #FFFFFF;
    --bg-dark-1: #060308;
    --bg-dark-2: #10041a;
    --space-1: 0.25rem;
    --space-2: 0.5rem;
    --space-3: 1rem;
    --space-4: 2rem;
    --font-display: 'Black Baron', 'UnifrakturCook', 'Creepster', 'Eater', cursive;
    --font-body: 'Work Sans', Arial, sans-serif;
    --max-width: 1000px;
    --bolt-width: 8px;
    --bolt-color: #fff;
}

/*
    Black Baron is not hosted on Google Fonts. To use it offline or locally,
    please add the font files to /assets/fonts/ in your project root.

    Recommended filenames (place in /assets/fonts/):
        - BlackBaron.woff2
        - BlackBaron.woff

    The @font-face below will load those files when present and fall back to
    UnifrakturCook / Creepster if not available.
*/
@font-face {
    font-family: 'Black Baron';
    src: url('assets/fonts/BlackBaron.woff2') format('woff2'),
        url('assets/fonts/BlackBaron.woff') format('woff');
    font-weight: 400;
    font-style: normal;
    font-display: swap;
}


/* -------------------------
   BASIC PAGE STYLING
   ------------------------- */
* {
    box-sizing: border-box;
}

html,
body {
    height: 100%;
    margin: 0;
    background: linear-gradient(180deg, var(--bg-dark-1), var(--bg-dark-2));
    color: var(--ghost);
    font-family: var(--font-body);
    -webkit-font-smoothing: antialiased;
}

/* header */
.demo-header {
    background: linear-gradient(90deg, rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.8));
    padding: .4rem .6rem;
    /* reduced header height */
    text-align: left;
}

/* main container: hide overflow to keep flying elements in bounds */
.welcome-hero {
    min-height: calc(100vh - 120px);
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
    padding: 2rem;
    overflow: hidden;
    /* prevents animated elements from permanently leaving viewport */
    background:
        radial-gradient(circle at 10% 20%, rgba(255, 255, 255, 0.02), transparent 10%),
        linear-gradient(180deg, rgba(75, 0, 130, 0.18), rgba(0, 0, 0, 0.8));
}

/* content card */
.welcome-inner {
    text-align: center;
    max-width: 760px;
    position: relative;
    z-index: 4;
    background: linear-gradient(180deg, rgba(10, 6, 16, 0.6), rgba(10, 6, 16, 0.35));
    border: 1px solid rgba(255, 255, 255, 0.04);
    padding: 2.25rem 2.5rem;
    border-radius: 16px;
    backdrop-filter: blur(6px) saturate(120%);
    box-shadow: 0 18px 60px rgba(0, 0, 0, 0.7), 0 8px 30px rgba(75, 0, 130, 0.12);
}

/* reduce logo size specifically in the demo header */
.demo-header .logo img {
    width: 36px;
    height: 36px;
    display: inline-block;
}

/* Faded ghost background behind the welcome hero content */
.welcome-hero::before {
    content: "";
    position: absolute;
    left: 6%;
    top: 8%;
    width: min(48vh, 420px);
    height: auto;
    aspect-ratio: 1/1;
    background-image: url('assets/images/ghost.png');
    background-repeat: no-repeat;
    background-position: center;
    background-size: contain;
    opacity: 0.06;
    /* very subtle */
    filter: blur(4px) saturate(.6) contrast(.9);
    transform: translateZ(0);
    z-index: 1;
    /* behind the welcome-inner (z-index:4) */
    pointer-events: none;
}

@media (max-width: 640px) {
    .welcome-hero::before {
        display: none;
    }
}

/* title */
.welcome-title {
    font-family: var(--font-display);
    font-size: clamp(2rem, 6vw, 4rem);
    margin: 0 0 .5rem 0;
    color: var(--pumpkin);
    text-shadow: 0 8px 28px rgba(75, 0, 130, 0.45);
    animation: flicker 4s linear infinite;
}

/* eerie subtitle */
.welcome-sub {
    font-size: 1.1rem;
    margin: 0 0 1rem;
    color: #f2efe8;
    opacity: .95;
}

/* buttons */
.dare-button {
    display: inline-block;
    background: var(--pumpkin);
    color: var(--black);
    padding: .75rem 1.25rem;
    border-radius: 999px;
    font-weight: 700;
    text-decoration: none;
    box-shadow: 0 10px 30px rgba(255, 117, 24, 0.20);
    transition: transform .12s ease, box-shadow .12s ease;
    position: relative;
    z-index: 6;
    font-family: var(--font-body);
}

.dare-button:hover {
    transform: translateY(-4px) scale(1.02);
    box-shadow: 0 16px 36px rgba(255, 117, 24, 0.26);
}

.enter-button {
    display: none;
    margin-left: .75rem;
    padding: .6rem .9rem;
    background: transparent;
    color: var(--ghost);
    border: 1px solid rgba(255, 255, 255, 0.06);
    border-radius: 8px;
    text-decoration: none;
}

/* decorative area (bat + fog) */
.welcome-decor {
    position: absolute;
    right: 2.5rem;
    bottom: 1.8rem;
    pointer-events: none;
    display: flex;
    gap: .6rem;
    align-items: flex-end;
    z-index: 3;
}

.welcome-decor .bat {
    width: clamp(56px, 8vw, 96px);
    animation: batFly 6.5s ease-in-out infinite;
    transform-origin: center;
}

.welcome-decor .fog {
    width: clamp(130px, 18vw, 260px);
    opacity: .7;
    filter: blur(2px);
    animation: fogDrift 18s linear infinite;
}

/* subtle vignette */
.welcome-hero::after {
    content: "";
    position: absolute;
    inset: 0;
    pointer-events: none;
    box-shadow: inset 0 0 120px rgba(0, 0, 0, 0.6);
    z-index: 2;
}

/* shadows (soft flying overlays) - constrained so they don't escape on small screens */
.shadow {
    position: absolute;
    top: -10%;
    left: -8%;
    width: min(32vw, 420px);
    height: 12vh;
    background: radial-gradient(ellipse at center, rgba(0, 0, 0, 0.75), rgba(0, 0, 0, 0.2));
    filter: blur(16px);
    opacity: .7;
    transform: rotate(-8deg);
    z-index: 1;
    pointer-events: none;
}

.shadow.s1 {
    animation: shadowFly 14s linear infinite;
    left: -8%;
}

.shadow.s2 {
    animation: shadowFly 12s linear infinite reverse;
    top: -6%;
    left: 8%;
    width: min(26vw, 360px);
    opacity: .6;
    transform: rotate(-4deg);
}

.shadow.s3 {
    animation: shadowFly 16s linear infinite;
    top: -4%;
    left: 40%;
    width: min(28vw, 400px);
    opacity: .55;
    transform: rotate(6deg);
}

@keyframes shadowFly {
    0% {
        transform: translateX(-6vw) translateY(0) rotate(-6deg);
    }

    50% {
        transform: translateX(48vw) translateY(6vh) rotate(6deg);
    }

    100% {
        transform: translateX(-6vw) translateY(0) rotate(-6deg);
    }
}

/* -------------------------
   LIGHTNING STRIKE
   ------------------------- */
/* the overlay sits above most things in the hero */
.strike-overlay {
    position: absolute;
    inset: 0;
    pointer-events: none;
    z-index: 8;
    opacity: 0;
}

/* jagged bolt — uses a narrow element plus multiple pseudo-segments via rotated boxes */
.strike-overlay::before {
    content: "";
    position: absolute;
    left: 50%;
    top: -10%;
    width: var(--bolt-width);
    height: 140vh;
    /* tall so bolt spans screen */
    transform: translateX(-50%);
    background: linear-gradient(180deg, var(--bolt-color), rgba(255, 255, 255, 0.8) 60%, rgba(255, 255, 255, 0.0) 100%);
    filter: drop-shadow(0 0 36px rgba(255, 255, 255, 0.95));
    opacity: 0;
    mix-blend-mode: screen;
    border-radius: 2px;
    /* small zig-zag visual: use repeating-linear-gradient overlay */
    background-image:
        linear-gradient(180deg, rgba(255, 255, 255, 1), rgba(255, 255, 255, 0.85)),
        repeating-linear-gradient(180deg, transparent 0 6px, rgba(255, 255, 255, 0.06) 6px 10px);
}

/* screen wash flash */
.strike-overlay::after {
    content: "";
    position: absolute;
    inset: 0;
    background: radial-gradient(circle at 50% 8%, rgba(255, 255, 255, 0.95), rgba(255, 255, 255, 0.6) 6%, rgba(255, 255, 255, 0.15) 18%, transparent 35%);
    opacity: 0;
    transform: scale(1);
}

/* trigger when the anchor is targeted (the #strike div is before the hero in the DOM) */
#strike:target~.welcome-hero .strike-overlay {
    /* play a single overlay flash animation then remain hidden */
    animation: overlayFlash 1s ease 1 forwards;
}

#strike:target~.welcome-hero .strike-overlay::before {
    animation: boltJolt 0.9s cubic-bezier(.2, .9, .2, 1) 1;
    opacity: 1;
}

#strike:target~.welcome-hero .strike-overlay::after {
    animation: flashJolt 0.9s ease 1;
    opacity: 1;
}

/* bolt animation — jitter slightly but stay centered (prevents pushing layout) */
@keyframes boltJolt {
    0% {
        opacity: 0;
        transform: translateX(-50%) translateY(-12%) scaleY(.2) rotate(0deg);
        filter: drop-shadow(0 0 12px rgba(255, 255, 255, .4));
    }

    6% {
        opacity: 1;
        transform: translateX(-48%) translateY(2%) scaleY(1) rotate(4deg);
    }

    12% {
        transform: translateX(-52%) translateY(6%) scaleY(1) rotate(-5deg);
    }

    18% {
        transform: translateX(-47%) translateY(18%) scaleY(1.05) rotate(6deg);
    }

    28% {
        transform: translateX(-52%) translateY(34%) scaleY(.95) rotate(-3deg);
    }

    40% {
        opacity: 1;
        transform: translateX(-50%) translateY(44%) scaleY(1) rotate(0deg);
    }

    60% {
        opacity: .6;
        transform: translateX(-49%) translateY(68%) scaleY(.9) rotate(3deg);
    }

    80% {
        opacity: .25;
        transform: translateX(-51%) translateY(86%) scaleY(.6) rotate(-2deg);
    }

    100% {
        opacity: 0;
        transform: translateX(-50%) translateY(110%) scaleY(.4) rotate(0deg);
    }
}

/* flash animation (screen wash) */
@keyframes flashJolt {
    0% {
        opacity: 0;
        filter: blur(0);
    }

    6% {
        opacity: 1;
    }

    12% {
        opacity: 0.9;
    }

    22% {
        opacity: 0.18;
    }

    40% {
        opacity: 0;
    }

    100% {
        opacity: 0;
    }
}

/* overlay animation: briefly show and then fade out so lightning disappears even if fragment remains */
@keyframes overlayFlash {
    0% {
        opacity: 0
    }

    6% {
        opacity: 1
    }

    25% {
        opacity: 0.9
    }

    50% {
        opacity: 0.35
    }

    75% {
        opacity: 0.12
    }

    100% {
        opacity: 0
    }
}

/* the hero vignette gets briefly intensified */
#strike:target~.welcome-hero::after {
    animation: flashHard .9s ease 1;
}

@keyframes flashHard {
    0% {
        box-shadow: inset 0 0 0 rgba(255, 255, 255, 0);
    }

    6% {
        box-shadow: inset 0 0 200vw rgba(255, 255, 255, 0.95);
    }

    12% {
        box-shadow: inset 0 0 120vw rgba(255, 255, 255, 0.65);
    }

    22% {
        box-shadow: inset 0 0 60vw rgba(255, 255, 255, 0.15);
    }

    60% {
        box-shadow: inset 0 0 120px rgba(0, 0, 0, 0.6);
    }

    100% {
        box-shadow: inset 0 0 120px rgba(0, 0, 0, 0.6);
    }
}

/* ensure reduced motion users don't get assaulted */
@media (prefers-reduced-motion: reduce) {

    .strike-overlay::before,
    .strike-overlay::after {
        animation: none !important;
        opacity: 0.9;
    }
<<<<<<< Updated upstream
<<<<<<< Updated upstream

    #strike:target~.welcome-hero::after {
        animation: none !important;
    }
}

/* button sparkle + small decorative animations (subtle) */
.dare-button::after {
    content: "";
    position: absolute;
    inset: -6px -12px;
    border-radius: 999px;
    z-index: -1;
    background: radial-gradient(circle, rgba(255, 117, 24, 0.18), rgba(34, 139, 34, 0.02) 40%, transparent 60%);
    filter: blur(8px);
    transition: opacity .15s ease, transform .15s ease;
    opacity: .9;
}

/* bat + fog keyframes (constrained so they don't leap off-screen)*

/* support for strike.html which uses body.play-strike to auto-play the strike */
body.play-strike .strike-overlay {
    animation: overlayFlash 1s ease 1 forwards;
}

body.play-strike .strike-overlay::before {
    animation: boltJolt 0.9s cubic-bezier(.2, .9, .2, 1) 1;
    opacity: 1
}

body.play-strike .strike-overlay::after {
    animation: flashJolt .9s ease 1;
    opacity: 1
}
=======
=======
>>>>>>> Stashed changes
}
.bookshelf-panel {
    position: relative;
    width: 250px;
    height: 200px;
    perspective: 1000px;
  }
  
  .shelf-toggle {
    display: none;
  }
  
  .shelf-front {
    display: block;
    width: 100%;
    height: 100%;
    background: url('bookshelf.png') no-repeat center/cover;
    cursor: pointer;
    transition: transform 0.8s ease;
    transform-origin: left center;
    border: 3px solid #442;
    border-radius: 6px;
    box-shadow: 0 0 12px rgba(0,0,0,0.6);
  }
  
  .monster-behind {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: #111;
    color: #f5f5f5;
    padding: 10px;
    text-align: center;
    opacity: 0;
    transform: translateZ(-30px);
    transition: opacity 0.8s ease;
  }
  
  .shelf-toggle:checked + .shelf-front {
    transform: rotateY(-100deg);
  }
  
  .shelf-toggle:checked ~ .monster-behind {
    opacity: 1;
  }
<<<<<<< Updated upstream
  
>>>>>>> Stashed changes
=======
  
>>>>>>> Stashed changes
